# core logic like lock, gravity, and scoring